<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../views/estilo.css">
    <title>Buscador de Imágenes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Barra de navegación */
        nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background-color: transparent; 
            z-index: 10;
        }

        nav ul {
            list-style-type: none;
            display: flex;
            justify-content: flex-end;
            padding: 20px;
        }

        nav ul li {
            margin: 0 25px;
        }

        nav ul li a {
            color: #fff; /* Texto blanco para contraste */
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            padding: 8px 15px;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 4px;
        }

        nav ul li a:hover {
            background-color: #4d979b;
            color: #fff;
        }

        /* Sección Header */
        .header {
            background-image: url('https://i.pinimg.com/736x/61/36/6f/61366f73c0bb11686b4a9d0ca2f23947.jpg');
            background-size: cover;
            background-position: center;
            height: 100vh;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .header p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }

        .header button {
            padding: 12px 30px;
            background-color: #4d979b;
            color: white;
            border: none;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .header button:hover {
            background-color: #366f71;
        }

        /* Estilos generales */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }

        /* Resultados de búsqueda */
        #resultado-busqueda img {
            width: 200px;
            height: 200px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        #resultado-busqueda {
            width: 80%;
            margin: 100px auto 50px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-gap: 40px;
        }

        /* Nueva sección de la agencia */
        .agencia-seccion {
            background-color: #f2f2f2;
            padding: 40px;
            text-align: center;
            margin-bottom: 50px;
        }

        .agencia-seccion h2 {
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .agencia-seccion p {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 30px;
        }

        .contacto-btn {
            padding: 15px 30px;
            background-color: #4d979b;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .contacto-btn:hover {
            background-color: #366f71;
        }

        /* Sección Nosotros */
        .section {
            padding: 60px 20px;
            background-color: #fff;
            text-align: center;
        }

        .section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .section p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* Sección Buscar fotos */
        header {
            background-color: #fff;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        #form-busqueda {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        #caja-busqueda {
            padding: 10px;
            font-size: 1rem;
            border: 2px solid #4d979b;
            border-radius: 5px;
            width: 300px;
        }

        #form-busqueda button {
            padding: 10px 20px;
            background-color: #4d979b;
            color: white;
            border: none;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #form-busqueda button:hover {
            background-color: #366f71;
        }

        /* Resultados de búsqueda */
        #resultado-busqueda img {
            width: 200px;
            height: 200px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        #resultado-busqueda {
            width: 80%;
            margin: 50px auto;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-gap: 40px;
        }

        /* Estilo para el botón 'Mostrar más' */
        #mostrar-mas {
            padding: 10px 20px;
            background-color: #4d979b;
            color: white;
            border: none;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            margin-left: auto;
            margin-right: auto;
            display: block; /* Hace que el botón sea un bloque, permitiendo centrarlo */
            transition: background-color 0.3s;
        }


        #mostrar-mas:hover {
            background-color: #366f71;
        }
        /* Sección de viajes */
        .viajes-section {
            padding: 50px 20px;
            background-color: #e9e9e9;
        }

        .viajes-section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .viajes-cards {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 30px;
        }

        .viajes-card {
            background-color: #fff;
            width: 280px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .viajes-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .viajes-card h3 {
            font-size: 1.6rem;
            margin: 15px 0;
        }

        .viajes-card p {
            font-size: 1rem;
            padding: 0 15px 20px;
        }

        .contact-section {
            padding: 60px 20px;
            background-color: #fff;
            text-align: center;
        }

        .contact-section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .contact-section form input,
        .contact-section form textarea {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1rem;
            outline: none;
        }

        .contact-section form button {
            padding: 15px 30px;
            background-color: #4d979b;
            color: white;
            border: none;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .contact-section form button:hover {
            background-color: #366f71;

        }



    </style>
</head>
<body>

    <!-- Barra de navegación -->
    <nav>
        <ul>
            <li><a href="#nosotros">Nosotros</a></li>
            <li><a href="#viajes">Viajes</a></li>
            <li><a href="#contactanos">Contáctanos</a></li>
        </ul>
    </nav>

    <!-- Sección Header -->
    <div class="header fade-in">
        <h1>Explora el Mundo con Nosotros</h1>
        <p>Encuentra tu próximo destino y disfruta de una experiencia inolvidable.</p>
        <button onclick="window.location.href='#viajes'">Ver Viajes</button>
    </div>

    <!-- Sección Nosotros -->
    <div class="section fade-in" id="nosotros">
        <h2>¿Quiénes Somos?</h2>
        <p style="text-align: justify;">Somos una agencia de viajes con más de 20 años de experiencia dedicada exclusivamente a ofrecer servicios de guías de turistas. A lo largo de estas dos décadas, hemos acompañado a miles de viajeros a descubrir las maravillas que el mundo tiene para ofrecer, brindando no solo recorridos, sino experiencias enriquecedoras que quedan para siempre en la memoria.</p>

        <p style="text-align: justify;">Nuestro equipo está conformado por guías profesionales, apasionados por la cultura, la historia y las tradiciones de cada destino. Nos especializamos en crear aventuras personalizadas que se adaptan a los intereses y expectativas de cada viajero, garantizando un servicio cercano, confiable y de alta calidad.</p>

        <p style="text-align: justify;">No vendemos boletos de avión, ni paquetes de hospedaje, nuestra misión es exclusivamente guiarte y acompañarte durante tu viaje para que vivas cada lugar como un verdadero local, descubriendo rincones escondidos, aprendiendo de su gente y disfrutando de la esencia única de cada destino.</p>

    </div>


     
<!-- Sección Viajes -->
<div class="viajes-section" id="viajes">
    <h2>Destinos Populares</h2>
    <div class="viajes-cards">
        <div class="viajes-card">
            <img src="https://i.pinimg.com/736x/5f/c9/39/5fc9398438f06cb2f1e8424a7ea466c6.jpg" alt="Destino 1">
            <h3>Islas Maldivas</h3>
            <p>Disfruta de playas paradisíacas y aguas cristalinas en el corazón del océano Índico.</p>
        </div>
        <div class="viajes-card">
            <img src="https://i.pinimg.com/736x/66/5b/f1/665bf197170ac6ac491ba620f5d504b9.jpg" alt="Destino 2">
            <h3>Safari en África</h3>
            <p>Vive la emoción de un safari en la sabana africana y observa la vida salvaje en su hábitat natural.</p>
        </div>
        <div class="viajes-card">
            <img src="https://i.pinimg.com/736x/c4/f0/1a/c4f01aa3f757c9bab05596f37bb8e730.jpg" alt="Destino 3">
            <h3>Japón</h3>
            <p>Explora la cultura única de Japón, desde los templos históricos hasta las ciudades ultramodernas.</p>
        </div>
    </div>
</div>

    <!-- Sección Buscar fotos -->
    <div class="contact-section fade-in" id="contactanos">
    <header class="contact-section fade-in">
        <h1>Buscar Fotos Tu Destino</h1>
        <form action="" id="form-busqueda">
            <input type="text" id="caja-busqueda" placeholder="¿Qué quieres buscar?" required>
            <button type="submit">Buscar</button>
        </form>

        <div id="resultado-busqueda"></div>
        <button id="mostrar-mas" style="display: none;">Mostrar más</button>
    </header>
<div class="contact-section" id="contactanos">
  <h2>Contáctanos</h2>
  <form action="/enviar-correo" method="POST">
  <input type="text" name="nombre" />
  <input type="email" name="correo" />
  <textarea name="mensaje"></textarea>
  <button type="submit">Enviar</button>
</form>

</div>

<script>
  document.getElementById('form-contacto').addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(e.target);
    const data = {
      nombre: formData.get('nombre'),
      correo: formData.get('correo'),
      mensaje: formData.get('mensaje')
    };

    try {
      const res = await fetch('/api/mensajes', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await res.json();
      alert(result.mensaje);
      e.target.reset();
    } catch (err) {
      alert('Error al enviar el mensaje');
    }
  });
</script>

    <script>

    // Detecta scroll y aplica la clase visible
    const elements = document.querySelectorAll('.fade-in');

    const showOnScroll = () => {
        elements.forEach(el => {
            const rect = el.getBoundingClientRect();
            if (rect.top < window.innerHeight - 50) {
                el.classList.add('visible');
            }
        });
    }

    window.addEventListener('scroll', showOnScroll);
    window.addEventListener('load', showOnScroll);

        const formBusqueda = document.querySelector("#form-busqueda");
        const cajaBusqueda = document.querySelector("#caja-busqueda");
        const resultadoBusqueda = document.querySelector("#resultado-busqueda");
        const mostrarMas = document.querySelector("#mostrar-mas");

        let keyword = ""; // variable que guarda la palabra a buscar
        let page = 1; // número de página de búsqueda
        const accessKey = "xsQcHnSiX5iq7flpI1flKaGUPU8YPeER5tYBiZB8zm8";  // Cambia por tu propio Access Key

        // Función para obtener las imágenes
        async function buscarImagenes(){
            try {
                keyword = cajaBusqueda.value;

                // Armo la URL de la API
                const url = `https://api.unsplash.com/search/photos?page=${page}&query=${keyword}&client_id=${accessKey}`;
                const response = await fetch(url);
                const data = await response.json();

                if (data.results.length > 0) {
                    mostrarImagenes(data.results);
                } else {
                    resultadoBusqueda.innerHTML = "<p>No se encontraron imágenes.</p>";
                }
            } catch (error) {
                console.error("Error al obtener imágenes:", error);
                resultadoBusqueda.innerHTML = "<p>Error al buscar imágenes. Intenta de nuevo.</p>";
            }
        }

        // Función para mostrar las imágenes en el DOM
        function mostrarImagenes(imagenes) {
            resultadoBusqueda.innerHTML = '';  // Limpiamos los resultados anteriores
            imagenes.forEach(imagen => {
                const img = document.createElement('img');
                img.src = imagen.urls.small;
                img.alt = imagen.alt_description || 'Imagen';
                resultadoBusqueda.appendChild(img);
            });

            // Mostrar botón "Mostrar más" si hay más resultados
            mostrarMas.style.display = 'block';
        }

        // Llamamos a la función de búsqueda cuando el formulario es enviado
        formBusqueda.addEventListener("submit", (event) => {
            event.preventDefault();
            page = 1;  // Resetear la página al hacer una nueva búsqueda
            buscarImagenes();
        });

        // Mostrar más resultados al hacer clic en el botón
        mostrarMas.addEventListener("click", () => {
            page++;
            buscarImagenes();
        });
    </script>

        <script>
        document.addEventListener('DOMContentLoaded', () => {
            const faders = document.querySelectorAll('.fade-in');

            const appearOptions = {
                threshold: 0.3,
                rootMargin: "0px 0px -50px 0px"
            };

            const appearOnScroll = new IntersectionObserver(function(entries, observer) {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;
                    entry.target.classList.add('appear');
                    observer.unobserve(entry.target);
                });
            }, appearOptions);

            faders.forEach(fader => {
                appearOnScroll.observe(fader);
            });
        });
    </script>

</body>
</html>
